<html>
    <head>
    </head>
    <body>
        <input type="text"></input>
        <ul id="list">
        </ul>
    </body>
</html>


<script>
const getProperty = prop => x => x[prop];
const getTitle = getProperty('title');
const getExtract = getProperty('extract')

const extractProps = el => {
    var newElement = {};
    newElement.title = el.title;
    newElement.extract = el.extract;
    return newElement;
}

const createLiElement = (acc, obj) => acc += "<li>"+obj.title+"</li>";
const clearHTMLElement = el => el.innerHTML = "";

const endpoint = 'https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&origin=*&gsrsearch=';
function searchWP (keywords) {
    clearHTMLElement(list);
    fetch(endpoint + encodeURIComponent(keywords))
    .then(data => data.json())
    .then(json => json.query.pages)
    .then(obj => Object.keys(obj).map(key => obj[key]))
    .then(array => array.map(el => extractProps(el)))
    .then(exts => exts.reduce(createLiElement, ""))
    .then(html => displayEntries(html))
    .catch(e => console.log(e))
}
function displayEntries(html) {
    list.innerHTML = html
}

const list = document.querySelector('#list');
const searchBox = document.querySelector('input');
searchBox.addEventListener('keyup', e => searchWP(searchBox.value));
</script>